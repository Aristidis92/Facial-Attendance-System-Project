{% extends 'base.html' %}

{% block title %}Login - Facial Attendance System{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-sm border-0">
            <div class="card-body p-4">
                <!-- Login Header -->
                <div class="text-center mb-4">
                    <i class="fas fa-user-circle fa-3x text-primary mb-3"></i>
                    <h2 class="card-title mb-0">Welcome Back</h2>
                    <p class="text-muted">Sign in to your account</p>
                </div>

                <!-- Error Messages -->
                {% if form.errors %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <i class="fas fa-exclamation-circle"></i> Invalid username or password.
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endif %}

                <!-- Login Form -->
                <form method="post" class="login-form">
                    {% csrf_token %}
                    
                    <!-- Username Field -->
                    <div class="mb-3">
                        <label for="id_username" class="form-label">
                            <i class="fas fa-user"></i> Username
                        </label>
                        <input type="text" name="username" class="form-control" 
                               id="id_username" placeholder="Enter your username"
                               required autofocus>
                    </div>

                    <!-- Password Field -->
                    <div class="mb-4">
                        <label for="id_password" class="form-label">
                            <i class="fas fa-lock"></i> Password
                        </label>
                        <input type="password" name="password" class="form-control" 
                               id="id_password" placeholder="Enter your password"
                               required>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary w-100 mb-3">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>

                <!-- Registration Options -->
                <div class="registration-options mt-4">
                    <p class="text-center mb-3">Don't have an account? Register as:</p>
                    <div class="d-grid gap-2">
                        <a href="{% url 'student_register' %}" class="btn btn-outline-primary">
                            <i class="fas fa-user-graduate"></i> Student
                        </a>
                        <a href="{% url 'teacher_register' %}" class="btn btn-outline-success">
                            <i class="fas fa-chalkboard-teacher"></i> Teacher
                        </a>
                        <a href="{% url 'admin_register' %}" class="btn btn-outline-dark">
                            <i class="fas fa-user-shield"></i> Admin
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 15px;
        transition: transform 0.3s ease;
    }

    .card:hover {
        transform: translateY(-5px);
    }

    .login-form .form-control {
        border-radius: 8px;
        padding: 10px 15px;
    }

    .login-form .form-control:focus {
        box-shadow: 0 0 0 0.25rem rgba(51, 153, 255, 0.25);
        border-color: #3399ff;
    }

    .btn {
        padding: 10px 20px;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    .btn-primary {
        background-color: #3399ff;
        border-color: #3399ff;
    }

    .btn-primary:hover {
        background-color: #0066cc;
        border-color: #0066cc;
        transform: translateY(-2px);
    }

    .registration-options .btn {
        text-align: left;
        padding: 12px 20px;
    }

    .registration-options .btn i {
        margin-right: 10px;
        width: 20px;
    }

    .registration-options .btn:hover {
        transform: translateX(5px);
    }

    .alert {
        border-radius: 8px;
        border: none;
    }

    .alert-danger {
        background-color: #fff2f2;
        color: #dc3545;
    }

    .fa-exclamation-circle {
        margin-right: 8px;
    }

    /* Icon colors for registration buttons */
    .btn-outline-primary i {
        color: #3399ff;
    }

    .btn-outline-success i {
        color: #28a745;
    }

    .btn-outline-dark i {
        color: #343a40;
    }

    /* Hover states for registration buttons */
    .btn-outline-primary:hover i {
        color: #fff;
    }

    .btn-outline-success:hover i {
        color: #fff;
    }

    .btn-outline-dark:hover i {
        color: #fff;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
        .col-md-6 {
            padding: 0 15px;
        }

        .card {
            border-radius: 10px;
        }

        .btn {
            padding: 12px 20px;
        }

        .registration-options .btn {
            font-size: 0.9rem;
        }
    }

    /* Additional animations */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .card {
        animation: fadeIn 0.5s ease-out;
    }

    /* Focus styles */
    .form-control:focus {
        border-color: #3399ff;
        box-shadow: 0 0 0 0.25rem rgba(51, 153, 255, 0.25);
    }

    /* Error state for form fields */
    .form-control.is-invalid {
        border-color: #dc3545;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right calc(0.375em + 0.1875rem) center;
        background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    }
</style>


{% endblock %}